import{Q as y,T as k,o as i,c as d,a as l,u as t,w as u,F as f,Z as M,b as e,t as s,i as h,d as p,g as c,e as V,f as B,r as S}from"./app-tAwzPaz0.js";import{_ as C}from"./AuthenticatedLayout-4lIRtO22.js";import{d as x}from"./dayjs.min-iWTwwGjc.js";import{_}from"./InputLabel-cXQcwQMw.js";import{_ as g}from"./TextInput-4AviEZ6p.js";import{S as D}from"./sweetalert2.all-d2J-bSCU.js";const Y={class:"py-4 font-sans"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"font-semibold text-xl text-slate-500 leading-tight mb-4"},z={class:"flex bg-white px-4 py-6 shadow-md","aria-label":"Breadcrumb"},U={class:"inline-flex items-center space-x-1 md:space-x-3"},N={class:"inline-flex items-center"},j=e("svg",{"aria-hidden":"true",class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),q={class:"flex items-center"},P=e("svg",{"aria-hidden":"true",class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),F={class:"flex items-center"},K=e("svg",{"aria-hidden":"true",class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),E={key:0},I={class:"flex items-center"},Q=e("svg",{"aria-hidden":"true",class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),Z={"aria-current":"page"},A={class:"flex items-center"},G=e("svg",{"aria-hidden":"true",class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),H={class:"ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400"},J={class:"mt-6 p-6 bg-white shadow-md rounded-sm"},O={key:0,class:"grid sm:grid-cols-1 md:grid-cols-2 mb-6"},R={key:0},W={class:"ms-4"},X={class:"flex items-center gap-4"},ee=["disabled"],te={key:0,class:"text-sm text-gray-600"},ae={id:"example",class:"stripe hover",style:{width:"100%","padding-top":"1em","padding-bottom":"1em"}},se={class:"text-start"},le=e("th",{"data-priority":"1"},"Data",-1),re=e("th",{"data-priority":"2"},"Dibuat Pada",-1),oe={"data-priority":"3"},ne={key:0,"data-priority":"4"},ie=e("th",{"data-priority":"5"},"Capaian",-1),de=e("th",{"data-priority":"6"},"Target",-1),ue={key:0},fe={__name:"Data",setup(pe){const v=y().props.data,a=y().props.sub;$(document).ready(function(){$("#example").DataTable({responsive:!0}).columns.adjust().responsive.recalc()});const n=k({pembilang:"",penyebut:"",target:a.target}),b=()=>{n.post(route("pelayanan.data.add",{id_sub:a.id}),{onSuccess:()=>{D.fire({title:"Berhasil!",text:"Telah Menambahkan Data Baru",icon:"success"}).then(r=>{location.reload()}),n.reset()}})};return(r,m)=>(i(),d(f,null,[l(t(M),{title:"Indikator Upaya Kesehatan Masyarakat"}),l(C,null,{default:u(()=>[e("div",Y,[e("div",T,[e("h2",L,s(t(a).subpelayanan),1),e("nav",z,[e("ol",U,[e("li",N,[l(t(h),{href:r.route("dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"},{default:u(()=>[j,p(" Dashboard ")]),_:1},8,["href"])]),e("li",null,[e("div",q,[P,l(t(h),{href:r.route("ukpp.pelayanan"),class:"ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2 dark:text-gray-400 dark:hover:text-white"},{default:u(()=>[p(" Upaya Kesehatan Perseorangan dan Penunjang")]),_:1},8,["href"])])]),e("li",null,[e("div",F,[K,l(t(h),{href:r.route("pelayanan.detail",{id:r.$page.props.pelayanan.id}),class:"ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2 dark:text-gray-400 dark:hover:text-white"},{default:u(()=>[p(s(r.$page.props.pelayanan.pelayanan),1)]),_:1},8,["href"])])]),r.$page.props.auth.user.role=="admin"?(i(),d("li",E,[e("div",I,[Q,l(t(h),{href:r.route("pelayanan.detail.admin",{id_pelayanan:r.$page.props.pelayanan.id,id_sub:t(a).id}),class:"ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2 dark:text-gray-400 dark:hover:text-white"},{default:u(()=>[p(s(t(a).subpelayanan),1)]),_:1},8,["href"])])])):c("",!0),e("li",Z,[e("div",A,[G,e("span",H,s(r.$page.props.auth.user.role=="puskesmas"?t(a).subpelayanan:r.$page.props.username),1)])])])]),e("div",J,[r.$page.props.auth.user.role=="puskesmas"?(i(),d("div",O,[e("form",{onSubmit:V(b,["prevent"]),class:"space-y-2"},[e("div",null,[l(_,null,{default:u(()=>[p(s(t(a).str_pembilang),1)]),_:1}),l(g,{modelValue:t(n).pembilang,"onUpdate:modelValue":m[0]||(m[0]=o=>t(n).pembilang=o),required:"",type:"number",class:"w-full"},null,8,["modelValue"])]),t(a).type=="1"?(i(),d("div",R,[l(_,null,{default:u(()=>[p(s(t(a).str_penyebut),1)]),_:1}),l(g,{modelValue:t(n).penyebut,"onUpdate:modelValue":m[1]||(m[1]=o=>t(n).penyebut=o),required:"",type:"number",class:"w-full"},null,8,["modelValue"])])):c("",!0),e("div",null,[l(_,null,{default:u(()=>[p("Target")]),_:1}),l(g,{modelValue:t(n).target,"onUpdate:modelValue":m[2]||(m[2]=o=>t(n).target=o),required:"",type:"number"},null,8,["modelValue"]),e("span",W,s(t(a).str_target),1)]),e("div",X,[e("button",{disabled:t(n).processing,type:"submit",class:"flex items-center text-sm space-x-2 text-white shadow-sm shadow-icterina px-4 py-2 rounded-sm bg-indigo-700 hover:bg-indigo-600"},"Submit",8,ee),l(B,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:u(()=>[t(n).recentlySuccessful?(i(),d("p",te,"Saved.")):c("",!0)]),_:1})])],32)])):c("",!0),e("table",ae,[e("thead",null,[e("tr",se,[le,re,e("th",oe,s(t(a).str_pembilang),1),t(a).type=="1"?(i(),d("th",ne,s(t(a).str_penyebut),1)):c("",!0),ie,de])]),e("tbody",null,[(i(!0),d(f,null,S(t(v),(o,w)=>(i(),d("tr",{key:w},[e("td",null,s(t(x)(String(o.data_untuk)).format("MMMM YYYY")),1),e("td",null,s(t(x)(String(o.created_at)).format("DD MMMM YYYY")),1),e("td",null,s(o.pembilang+" "+t(a).satuan),1),t(a).type=="1"?(i(),d("td",ue,s(o.penyebut+" "+t(a).satuan),1)):c("",!0),e("td",null,s(o.hasil+" "+t(a).str_target),1),e("td",null,s(o.target+" "+t(a).str_target),1)]))),128))])])])])])]),_:1})],64))}};export{fe as default};
